{"mappings":"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","sources":["src/favCocktail.js","src/js/modals/cocktailModalMarkup.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport './js/modals/mobileMenu';\nimport { elementsRef } from './js/elementsRefs/references';\nimport {\n  getFromLocalStorage,\n  updateLocalStorage,\n} from './js/localStorage/localStorage';\nimport { constants } from './js/constantsStorage/constants';\nimport { getCocktailsById } from './js/api/api';\nimport {\n  renderGallery,\n  createPagination,\n} from './js/elementsRender/renderGallery';\nimport {\n  createIngredientsListMarkup,\n  createCocktailModalMarkup,\n} from './js/modals/cocktailModalMarkup';\nimport { createModal } from './js/modals/createModal';\nimport { createCocktailCardMarkup } from './js/elementsMarkup/cocktailCard';\nimport {\n  showNotFoundMessageOnFavPage,\n  showNotFoundMsg,\n} from './js/utils/utils';\n\nwindow.addEventListener('load', favCocktailsHandler);\nelementsRef.searchFormRef.addEventListener('submit', searchFavCocktailHandler);\nelementsRef.cocktailsListEl.addEventListener('click', cocktailCardHandler);\n\nasync function favCocktailsHandler() {\n  const filteredCocktailsById = await getCocktailByStorageIds();\n  if (!filteredCocktailsById) {\n    elementsRef.notFoundTextEl.classList.remove('is-hidden');\n  } else {\n    renderGallery(\n      filteredCocktailsById,\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n    createPagination(\n      filteredCocktailsById,\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n  }\n}\n\nasync function searchFavCocktailHandler(e) {\n  e.preventDefault();\n  const searchQuery = e.target.elements.search.value.trim();\n  if (!searchQuery) {\n    Notiflix.Notify.warning('Please, enter the correct search query');\n    return;\n  }\n\n  const filteredCocktailsById = await getCocktailByStorageIds();\n\n  const filteredCocktailByName = filteredCocktailsById.filter(cocktail =>\n    cocktail.strDrink.toUpperCase().includes(searchQuery.toUpperCase())\n  );\n\n  showNotFoundMsg(\n    filteredCocktailByName.length,\n    elementsRef.cocktailsListEl,\n    elementsRef.paginationEl\n  );\n\n  if (filteredCocktailByName !== 0) {\n    renderGallery(\n      filteredCocktailByName,\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n    createPagination(\n      filteredCocktailByName,\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n  }\n}\n\nasync function getCocktailByStorageIds() {\n  const favCocktailsId = getFromLocalStorage(constants.favCocktailStorageKey);\n\n  showNotFoundMessageOnFavPage(\n    favCocktailsId.length,\n    elementsRef.notFoundMsgOnFavPageEl\n  );\n\n  if (favCocktailsId.length === 0) {\n    return false;\n  } else {\n    try {\n      const cocktailCardsInfo = [];\n      for (const id of favCocktailsId) {\n        const favCocktail = await getCocktailsById(id);\n        cocktailCardsInfo.push(favCocktail[0]);\n      }\n      return cocktailCardsInfo;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nasync function cocktailCardHandler(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n\n  const cocktailCardEl = e.target.closest('[data-id]');\n  const cardId = cocktailCardEl.dataset.id;\n\n  if (e.target.classList.contains('js-btn-fav')) {\n    updateLocalStorage(cardId, constants.favCocktailStorageKey);\n    cocktailCardEl.parentElement.remove();\n  }\n  if (e.target.classList.contains('js-btn-more')) {\n    const cocktailInfo = await getCocktailsById(cardId);\n\n    const ingredientModalContent = createIngredientsListMarkup(cocktailInfo[0]);\n\n    const cocktailModalContent = createCocktailModalMarkup(\n      cocktailInfo[0],\n      ingredientModalContent\n    );\n\n    createModal(cocktailModalContent, cardId, constants.favCocktailStorageKey);\n  }\n  if (elementsRef.cocktailsListEl.children.length === 0) {\n    location.reload();\n  }\n}\n","export function createCocktailModalMarkup(cocktail, ingredients) {\n  return ` <p class=\"cocktail__title js-cocktail-title\">${cocktail.strDrink}</p>\n    <div class=\"cocktail__main-content\">\n      <div class=\"cocktail__desc-wrapper\">\n        <p class=\"cocktail__instruction\">Instructions:</p>\n        <p class=\"cocktail__desc js-cocktail-desk\">${\n          cocktail.strInstructions\n        }</p>\n      </div>\n      <div class=\"cocktail__img-wrapper\">\n        <img\n          class=\"cocktail__img js-cocktail-img\"\n          src=\"${cocktail.strDrinkThumb}\"\n          alt=\"cocktail\"\n        />\n      </div>\n      <div class=\"cocktail__info-block\">\n        <p class=\"cocktail__info-text\">INGREDIENTS</p>\n        <p class=\"cocktail__info-amount\">Per cocktail</p>\n        <ul class=\"cocktail__ingredients js-cocktail-ingredients\">\n        ${createIngredientsListMarkup(cocktail)}\n        </ul>\n      </div>\n    </div>`;\n}\n\nexport function createIngredientsListMarkup(cocktail) {\n  let markup = '';\n  let ingredient;\n  let measure;\n\n  for (let i = 1; i <= 15; i += 1) {\n    ingredient = 'strIngredient' + i;\n    measure = 'strMeasure' + i;\n\n    if (cocktail[measure] && cocktail[ingredient]) {\n      markup += `<li cocktail[]><a data-name=\"${cocktail[ingredient]}\">${cocktail[measure]} ${cocktail[ingredient]}</a></li>`;\n    }\n  }\n  return markup;\n}\n"],"names":["$bpxeT","parcelRequire","$8d925b98675eb375$export$ebe4c3763f9e3cd2","cocktail","ingredients","concat","strDrink","strInstructions","strDrinkThumb","$8d925b98675eb375$export$44e137ce980d1213","ingredient","measure","markup","i","$3b8009332ae14b00$var$_favCocktailsHandler","$parcel$interopDefault","$2TvXO","mark","_callee","filteredCocktailsById","$3b8009332ae14b00$var$getCocktailByStorageIds","_ctx","sent","$f187r","renderGallery","$1hJrM","elementsRef","cocktailsListEl","$1GlaR","createCocktailCardMarkup","createPagination","notFoundTextEl","classList","remove","apply","this","arguments","$3b8009332ae14b00$var$_searchFavCocktailHandler","e","searchQuery","filteredCocktailByName","preventDefault","target","elements","search","value","trim","$6JpON","Notify","warning","filter","toUpperCase","includes","$5mnqR","showNotFoundMsg","length","paginationEl","$3b8009332ae14b00$var$_getCocktailByStorageIds","favCocktailsId","cocktailCardsInfo","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","id","favCocktail","$8gjq0","getFromLocalStorage","$a1YPt","constants","favCocktailStorageKey","showNotFoundMessageOnFavPage","notFoundMsgOnFavPageEl","undefined","Symbol","iterator","next","done","$1X4Nb","getCocktailsById","push","t0","return","console","log","t1","$3b8009332ae14b00$var$_cocktailCardHandler","cocktailCardEl","cardId","cocktailInfo","cocktailModalContent","nodeName","closest","dataset","contains","updateLocalStorage","parentElement","$6L0EN","createModal","children","location","reload","window","addEventListener","searchFormRef"],"version":3,"file":"favCocktail.212263e8.js.map"}