function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequiref7a6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequiref7a6=r);var i=r("7Y9D8");r("aa1Sd");var s=r("gGAPY"),o=r("4emys"),d=r("7ExxV"),l=r("4iYcx"),c=r("e6wCE"),g=r("kK2SA");s=r("gGAPY");function f(e){return`<li class="favorite__item" data-id="${e.idIngredient}">\n        <div class="ingredient-card">\n          <h2 class="ingredient-card__title">${e.strIngredient}</h2>\n          <p class="ingredient-card__text">${e.strType||"***"}</p>\n          <div class="buttons-wrap">\n            <button class="button cocktail-card__btn cocktail-card__btn--accent js-btn-more" type="button">\n              Learn more\n            </button>\n            <button class="button cocktail-card__btn cocktail-card__btn--transp cocktail-card__btn--centered js-btn-fav" type="button">\n              ${(0,g.updateFavBtnContent)(e.idIngredient,s.constants.favIngredientStorageKey)}\n            </button>\n          </div>\n        </div>\n      </li>`}var u=r("3TGxB"),v=r("6bDXm"),p=r("jXDaJ");async function m(){const e=(0,c.getFromLocalStorage)(s.constants.favIngredientStorageKey);if(console.log(e.length),(0,p.showNotFoundMessageOnFavPage)(e.length,l.elementsRef.notFoundMsgOnFavPageEl),0===e.length)return!1;try{const t=[];for(const n of e){const e=await(0,o.getIngredientById)(n);t.push(e[0])}return t}catch(e){console.log(e)}}window.addEventListener("load",(async function(){const e=await m();e?(0,d.renderGallery)(e,l.elementsRef.ingredientsListEl,f):l.elementsRef.notFoundTextEl.classList.remove("is-hidden")})),l.elementsRef.ingredientsListEl.addEventListener("click",(async function(e){if("BUTTON"!==e.target.nodeName)return;const t=e.target.closest("[data-id]"),n=t.dataset.id;e.target.classList.contains("js-btn-fav")&&((0,c.updateLocalStorage)(n,s.constants.favIngredientStorageKey),t.remove());if(e.target.classList.contains("js-btn-more")){const e=await(0,o.getIngredientById)(n),t=(0,u.createIngredientModalMarkup)(e);(0,v.createIngredientModal)(t,e[0].idIngredient,s.constants.favIngredientStorageKey)}0===l.elementsRef.ingredientsListEl.children.length&&location.reload()})),l.elementsRef.searchFormRef.addEventListener("submit",(async function(t){t.preventDefault();const n=t.target.elements.search.value.trim();if(!n)return void e(i).Notify.warning("Please, enter the correct search query");const a=await m();console.log(a);const r=a.filter((e=>e.strIngredient.toUpperCase().includes(n.toUpperCase())));(0,p.showNotFoundMsg)(r.length,l.elementsRef.ingredientsListEl,l.elementsRef.paginationEl),0!==r&&((0,d.renderGallery)(r,l.elementsRef.ingredientsListEl,f),(0,d.createPagination)(r,l.elementsRef.ingredientsListEl,f))}));
//# sourceMappingURL=favIngridients.2ed44de3.js.map
